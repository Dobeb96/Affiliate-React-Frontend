(this.webpackJsonpreact_frontend=this.webpackJsonpreact_frontend||[]).push([[0],{106:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(25),i=a.n(s),c=(a(71),a(15)),o=a(16),l=a(18),m=a(17),u=a(14),p=a(2),h=a(26),d=(a(72),a(51)),g=a.n(d),E=a(31),f=a(21),v=a.n(f),b=a(34),y=a(35),S=a.n(y),O=function(e){return{type:"ITEMS_REQUEST_STARTED",appendItems:e.appendItems}},C=function(e,t){return{type:"ITEMS_REQUEST_SUCCESS",response:e,page:t.page,appendItems:t.appendItems}};function I(e){return function(){var t=Object(b.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"CATEGORIES_REQUEST_STARTED"}),n="".concat("https://hidden-chamber-04395.herokuapp.com","/categories"),S.a.get(n).then((function(e){return a({type:"CATEGORIES_REQUEST_SUCCESS",response:e})})).then((function(){return a(k({category:"categories",slug:e.slug}))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function k(e){return function(){var t=Object(b.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(O(e)),n=j(e),S.a.get(n).then((function(t){return a(C(t,e))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function j(e){var t="".concat("https://hidden-chamber-04395.herokuapp.com","/items"),a=[];Object.entries(e).forEach((function(e){void 0!==e[1]&&a.push("".concat(e[0],"=").concat(e[1]))}));var n=a.join("&");return""!==n?"".concat(t,"?").concat(n):"".concat(t)}a(98);var _=a(29),T=a.n(_),L=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"priceFormat",value:function(e){return parseFloat(e).toFixed(0)}},{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("a",{href:this.props.item.url,target:"_blank"},r.a.createElement("div",{className:"card-image-wrapper"},r.a.createElement("img",{className:"card-image",src:this.props.item.photos[0].url,alt:this.props.item.name})),r.a.createElement("div",{className:"item-header"},r.a.createElement("h3",{className:"item-name"},this.props.item.name),r.a.createElement("div",{className:"item-price"},this.priceFormat(this.props.item.price_current)," z\u0142"))),r.a.createElement("div",{className:"card-content-hover"},r.a.createElement("div",{className:"btn-primary btn-round-small btn-hover-darken flex-middle item-favourite",to:"/"},r.a.createElement(T.a,{color:"white",fontSize:"1.5em"}))))}}]),a}(r.a.Component),w=a(56),N=a.n(w),R=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={items:[],slug:"ceiling"},n.handleFetchItems=n.handleFetchItems.bind(Object(h.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.hasCategories()?this.props.fetchCategoriesAndItems({slug:this.state.slug}):this.props.fetchItems({category:this.props.category}),this.isLoading=this.isLoading.bind(this),this.hasCategories=this.hasCategories.bind(this),this.isCategoriesLoading=this.isCategoriesLoading.bind(this),this.renderCategoryList=this.renderCategoryList.bind(this),this.fetchItems=this.fetchItems.bind(this)}},{key:"isLoading",value:function(){return!0===this.props.items.isLoading||this.hasCategories()&&this.isCategoriesLoading()}},{key:"hasCategories",value:function(){return this.props.categorical}},{key:"isCategoriesLoading",value:function(){return this.props.categories&&!0===this.props.categories.isLoading}},{key:"fetchItems",value:function(e){var t=this;this.setState({slug:e},(function(){t.props.fetchItems({category:"categories",slug:e})}))}},{key:"renderCategoryList",value:function(){var e=this,t=r.a.createElement(r.a.Fragment,null);return this.hasCategories()&&!this.isCategoriesLoading()&&(t=r.a.createElement("ul",{class:"categories-selector"},this.props.categories.response.data.map((function(t,a){return r.a.createElement("li",{className:"category "+(e.state.slug===t.slug?"active":""),onClick:function(){return e.fetchItems(t.slug)}},t.name)})))),t}},{key:"handleFetchItems",value:function(){this.props.items.isLoading||this.props.fetchItems({category:this.props.category,appendItems:!0,page:Math.max(1,this.props.items.response.data.nextPage)})}},{key:"render",value:function(){var e,t;this.hasCategories()&&!this.isCategoriesLoading()&&(t=this.renderCategoryList());var a=[];return this.props.items.response.data.items.map((function(e){return a.push(r.a.createElement(L,{key:e.sku,item:e}))})),e=r.a.createElement(N.a,{loadMore:this.handleFetchItems,hasMore:this.props.items.response.data.hasMore,loader:r.a.createElement("div",{key:"spinner",className:"spinner-loading"},r.a.createElement(g.a,{color:"#fa6266"})),threshold:800,className:"item-gallery-layout"},a),r.a.createElement("div",null,t,e)}}]),a}(r.a.Component),x=Object(E.b)((function(e){return{items:e.itemsReducer,categories:e.categoriesReducer}}),{fetchItems:k,fetchCategoriesAndItems:I})(R),U=a(122),A=(a(106),a(57)),M=a.n(A),F=a(58),z=a.n(F),Q=a(59),D=a.n(Q),G=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement("div",{className:"content"},r.a.createElement("nav",{id:"nav",className:"nav"},r.a.createElement(U.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement("div",{className:"m-right"}),r.a.createElement(U.a,{container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,lg:10},r.a.createElement(u.b,{className:"btn-primary",to:"/"},"Strona g\u0142\xf3wna"),r.a.createElement(u.b,{className:"btn-primary",to:"/popularne"},"Popularne"),r.a.createElement(u.b,{className:"btn-primary",to:"/kategorie"},"Kategorie"),r.a.createElement(u.b,{className:"btn-primary",to:"/ostatnio-przegladane"},"Ostatnio przegl\u0105dane"),r.a.createElement("div",{className:"relative"},r.a.createElement("input",{className:"search main-search",type:"text",placeholder:"Szukaj..",name:"main-search"}),r.a.createElement(D.a,{className:"search-icon",color:"#888",fontSize:"1.8em"})),r.a.createElement(u.b,{className:"btn-primary btn-round flex-middle",to:"/ulubione"},r.a.createElement(T.a,{color:"white",fontSize:"1.5em"}))),r.a.createElement("div",{className:"btn flex-middle"},r.a.createElement(z.a,{color:"black",fontSize:"3em"}),r.a.createElement(M.a,{color:"black",fontSize:"1.5em"})))),r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/popularne"},r.a.createElement(x,{key:"popular",category:"popular"})),r.a.createElement(p.a,{exact:!0,path:"/kategorie"},r.a.createElement(x,{key:"categories",category:"categories",categorical:!0})),r.a.createElement(p.a,{exact:!0,path:"/ostatnio-przegladane"},r.a.createElement(x,{key:"last-viewed",category:"last-viewed"})),r.a.createElement(p.a,{exact:!0,path:"/ulubione"},r.a.createElement(x,{key:"favourites",category:"favourites"})),r.a.createElement(p.a,{exact:!0,path:"*"},r.a.createElement(x,{key:"home"})))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=a(11),B=a(63),J={isLoading:!0,response:{data:{items:[]}},error:null},W=Object(P.c)({itemsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ITEMS_REQUEST_STARTED":return t.appendItems?Object.assign({},e,{isLoading:!0}):Object.assign({},e,{isLoading:!0,response:J.response});case"ITEMS_REQUEST_SUCCESS":t.appendItems||(e=J);var a=e.response.data.items.concat(t.response.data.items);return t.response.data.items=a,Object.assign({},e,{isLoading:!1,response:t.response});case"ITEMS_REQUEST_FAILED":return Object.assign({},e,{isLoading:!1,error:t.error});default:return e}},categoriesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CATEGORIES_REQUEST_STARTED":return Object.assign({},e,{isLoading:!0});case"CATEGORIES_REQUEST_SUCCESS":return Object.assign({},e,{isLoading:!1,response:t.response});case"CATEGORIES_REQUEST_FAILED":return Object.assign({},e,{isLoading:!1,error:t.error});default:return e}}}),X=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||P.d,K=Object(P.e)(W,X(Object(P.a)(B.a)));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E.a,{store:K},r.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},66:function(e,t,a){e.exports=a(109)},71:function(e,t,a){},72:function(e,t,a){},98:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.a1cb1b94.chunk.js.map